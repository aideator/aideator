Tilt started on http://localhost:10350/
v0.35.0, built 

Initial Build
Loading Tiltfile at: /Users/alchang/dev/aideator/Tiltfile

âœ¨ AIdeator Development Environment âœ¨

ğŸ¯ Student-Friendly Setup - No Helm Complexity!

ğŸŒ Services:
  Frontend:  http://localhost:3000
  API:       http://localhost:8000
  API Docs:  http://localhost:8000/docs
  Database:  localhost:5432

ğŸ’¾ Persistence:
  Database data: /tmp/aideator-postgres-data (survives tilt down)
  Auto-migration: Runs on startup
  Test data: Added automatically on first run

ğŸ”§ Commands:
  Manual migration: tilt trigger database-migrate
  Manual test data: tilt trigger add-test-data
  
ğŸ§˜ Wise the Force be with you - Simple development, this is!

Successfully loaded Tiltfile (753.121417ms)
  k3d-cluster â”‚ 
  k3d-cluster â”‚ Initial Build
  k3d-cluster â”‚ Running cmd: sh -c "if ! k3d cluster list | grep -q aideator; then\n        echo \"ğŸš€ Creating k3d registry...\"\n        k3d registry create registry.localhost --port 5001 || echo \"Registry may already exist\"\n        echo \"ğŸš€ Creating k3d cluster 'aideator' (Docker Desktop mode)...\"\n        k3d cluster create aideator             --api-port 6550             --port \"8000:8000@loadbalancer\"             --port \"5432:5432@loadbalancer\"             --k3s-arg \"--disable=traefik@server:0\"             --registry-use k3d-registry.localhost:5001             --wait             --timeout 120s             --agents 1\n        echo \"ğŸ”§ Fixing kubectl context to use localhost...\"\n        kubectl config set-cluster k3d-aideator --server=https://localhost:6550\n        echo \"âœ… k3d cluster 'aideator' created successfully!\"\n    else\n        echo \"âœ… k3d cluster 'aideator' already exists\"\n    fi"
Auto-detected local registry from environment: &RegistryHosting{Host:localhost:5001,HostFromClusterNetwork:k3d-registry.localhost:5000,HostFromContainerRuntime:k3d-registry.localhost:5000,Help:https://k3d.io/stable/usage/registries/#using-a-local-registry,SingleName:,}
Default registry specified, but will be ignored in favor of auto-detected registry.
  k3d-cluster â”‚ âœ… k3d cluster 'aideator' already exists
cluster-ready â”‚ 
cluster-ready â”‚ Initial Build
cluster-ready â”‚ Running cmd: kubectl cluster-info
cluster-ready â”‚ Kubernetes control plane is running at https://localhost:6550
cluster-ready â”‚ CoreDNS is running at https://localhost:6550/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
cluster-ready â”‚ Metrics-server is running at https://localhost:6550/api/v1/namespaces/kube-system/services/https:metrics-server:/proxy
cluster-ready â”‚ 
cluster-ready â”‚ To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.
setup-persisâ€¦ â”‚ 
setup-persisâ€¦ â”‚ Initial Build
setup-persisâ€¦ â”‚ Running cmd: mkdir -p /tmp/aideator-postgres-data && echo "âœ… Persistent database directory created at /tmp/aideator-postgres-data"
setup-persisâ€¦ â”‚ âœ… Persistent database directory created at /tmp/aideator-postgres-data
     frontend â”‚ 
     frontend â”‚ Initial Build
uncategorized â”‚ 
uncategorized â”‚ Initial Build
uncategorized â”‚ STEP 1/1 â€” Deploying
uncategorized â”‚      Applying YAML to cluster
     frontend â”‚ Running cmd: cd frontend && npm run dev
uncategorized â”‚      Objects applied to cluster:
uncategorized â”‚        â†’ aideator:namespace
uncategorized â”‚        â†’ aideator:serviceaccount
uncategorized â”‚        â†’ aideator:role
uncategorized â”‚        â†’ aideator:rolebinding
uncategorized â”‚        â†’ aideator-data:persistentvolumeclaim
uncategorized â”‚        â†’ agent-job-template:configmap
uncategorized â”‚ 
uncategorized â”‚      Step 1 - 0.18s (Deploying)
uncategorized â”‚      DONE IN: 0.18s 
uncategorized â”‚ 
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚ Initial Build
aideator-datâ€¦ â”‚ STEP 1/1 â€” Deploying
 aideator-api â”‚ 
 aideator-api â”‚ Initial Build
 aideator-api â”‚ STEP 1/3 â€” Building Dockerfile: [aideator-api]
 aideator-api â”‚ Building Dockerfile for platform linux/arm64:
 aideator-api â”‚   # Multi-stage Dockerfile for AIdeator using Wolfi base images
 aideator-api â”‚   # Following patterns from manifold build-config
 aideator-api â”‚   
 aideator-api â”‚   # Build stage for Python dependencies using Wolfi
 aideator-api â”‚   FROM cgr.dev/chainguard/wolfi-base:latest AS python-builder
 aideator-api â”‚   
 aideator-api â”‚   USER root
 aideator-api â”‚   
 aideator-api â”‚   # Install Python build dependencies
 aideator-api â”‚   RUN apk --no-cache --update upgrade && apk --no-cache add \
 aideator-api â”‚       python-3.12 \
 aideator-api â”‚       py3.12-pip \
 aideator-api â”‚       python-3.12-dev \
 aideator-api â”‚       build-base \
 aideator-api â”‚       git \
 aideator-api â”‚       curl \
 aideator-api â”‚       nodejs \
 aideator-api â”‚       npm \
 aideator-api â”‚       ca-certificates \
 aideator-api â”‚       openssl \
 aideator-api â”‚       bash
 aideator-api â”‚   
 aideator-api â”‚   # Install uv for faster Python package management
 aideator-api â”‚   RUN pip install -Iv "uv==0.7.10"
 aideator-api â”‚   
 aideator-api â”‚   # Set Python environment variables
 aideator-api â”‚   ENV UV_LINK_MODE=copy
 aideator-api â”‚   ENV UV_COMPILE_BYTECODE=1
 aideator-api â”‚   ENV UV_PYTHON_DOWNLOADS=never
 aideator-api â”‚   ENV UV_PYTHON=python3.12
 aideator-api â”‚   ENV UV_PROJECT_ENVIRONMENT=/opt/venv
 aideator-api â”‚   
 aideator-api â”‚   # Create virtual environment
 aideator-api â”‚   RUN python3.12 -m venv /opt/venv
 aideator-api â”‚   ENV PATH="/opt/venv/bin:$PATH"
 aideator-api â”‚   
 aideator-api â”‚   # Copy Python requirements
 aideator-api â”‚   COPY requirements.txt pyproject.toml ./
 aideator-api â”‚   RUN pip install --no-cache-dir -r requirements.txt
 aideator-api â”‚   RUN touch /tmp/myfile 
 aideator-api â”‚   
 aideator-api â”‚   # Install Claude Code and AI CLI tools globally
 aideator-api â”‚   RUN npm install -g @anthropic-ai/claude-code
 aideator-api â”‚   
 aideator-api â”‚   # Download kubectl
 aideator-api â”‚   FROM cgr.dev/chainguard/wolfi-base:latest AS kubectl-builder
 aideator-api â”‚   RUN apk add --no-cache curl && \
 aideator-api â”‚       curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl" && \
 aideator-api â”‚       chmod +x kubectl
 aideator-api â”‚   
 aideator-api â”‚   # Final API stage using Wolfi base
 aideator-api â”‚   FROM cgr.dev/chainguard/wolfi-base:latest AS api
 aideator-api â”‚   
 aideator-api â”‚   USER root
 aideator-api â”‚   
 aideator-api â”‚   # Install runtime dependencies
 aideator-api â”‚   RUN apk --no-cache --update upgrade && apk --no-cache add \
 aideator-api â”‚       python-3.12 \
 aideator-api â”‚       py3.12-pip \
 aideator-api â”‚       bash \
 aideator-api â”‚       git \
 aideator-api â”‚       ca-certificates \
 aideator-api â”‚       openssl
 aideator-api â”‚   
 aideator-api â”‚   # Create nonroot user and directories (if it doesn't exist)
 aideator-api â”‚   RUN adduser -D -u 1000 nonroot || true
 aideator-api â”‚   WORKDIR /app
 aideator-api â”‚   RUN chown nonroot:nonroot /app
 aideator-api â”‚   
 aideator-api â”‚   # Copy Python virtual environment
 aideator-api â”‚   COPY --from=python-builder /opt/venv /opt/venv
 aideator-api â”‚   ENV PATH="/opt/venv/bin:$PATH"
 aideator-api â”‚   ENV PYTHONPATH="/app:$PYTHONPATH"
 aideator-api â”‚   
 aideator-api â”‚   # Install uv in the final container for student-friendly development
 aideator-api â”‚   RUN /opt/venv/bin/pip install -Iv "uv==0.7.10"
 aideator-api â”‚   
 aideator-api â”‚   # Copy kubectl
 aideator-api â”‚   COPY --from=kubectl-builder /kubectl /usr/local/bin/kubectl
 aideator-api â”‚   
 aideator-api â”‚   # Copy Node.js tools
 aideator-api â”‚   COPY --from=python-builder /usr/local/lib/node_modules /usr/local/lib/node_modules
 aideator-api â”‚   COPY --from=python-builder /usr/local/bin/claude /usr/local/bin/claude
 aideator-api â”‚   
 aideator-api â”‚   # Copy application code
 aideator-api â”‚   COPY --chown=nonroot:nonroot app/ ./app/
 aideator-api â”‚   COPY --chown=nonroot:nonroot k8s/ ./k8s/
 aideator-api â”‚   COPY --chown=nonroot:nonroot alembic/ ./alembic/
 aideator-api â”‚   COPY --chown=nonroot:nonroot alembic.ini ./
 aideator-api â”‚   COPY --chown=nonroot:nonroot scripts/ ./scripts/
 aideator-api â”‚   
 aideator-api â”‚   # Switch to nonroot user
 aideator-api â”‚   USER nonroot
 aideator-api â”‚   
 aideator-api â”‚   # Expose port
 aideator-api â”‚   EXPOSE 8000
 aideator-api â”‚   
 aideator-api â”‚   # Run FastAPI
 aideator-api â”‚   CMD ["python", "-m", "uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
 aideator-api â”‚   
 aideator-api â”‚   # API-only Dockerfile - agent uses separate agent/Dockerfile
 aideator-api â”‚ 
 aideator-api â”‚ 
 aideator-api â”‚      Building image
aideator-datâ€¦ â”‚      Applying YAML to cluster
aideator-datâ€¦ â”‚      Objects applied to cluster:
aideator-datâ€¦ â”‚        â†’ aideator-database:service
aideator-datâ€¦ â”‚        â†’ aideator-database:deployment
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚      Step 1 - 0.14s (Deploying)
aideator-datâ€¦ â”‚      DONE IN: 0.14s 
aideator-datâ€¦ â”‚ 
     frontend â”‚ 
     frontend â”‚ > my-v0-project@0.1.0 dev
     frontend â”‚ > next dev
     frontend â”‚ 
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚ Tracking new pod rollout (aideator-database-6cb4855dbb-tzc9w):
aideator-datâ€¦ â”‚      â”Š Scheduled       - <1s
aideator-datâ€¦ â”‚      â”Š Initialized     - <1s
aideator-datâ€¦ â”‚      â”ƒ Not Ready       - (ContainersNotReady): containers with unready status: [postgres]
aideator-datâ€¦ â”‚ [event: pod aideator/aideator-database-6cb4855dbb-tzc9w] Pulling image "postgres:15-alpine"
 aideator-api â”‚      [kubectl-builder 1/2] FROM cgr.dev/chainguard/wolfi-base:latest@sha256:72de158dcb2951c4815e016c1a7804af4e1af98d1d1922c1565a85b5987fbe43
 aideator-api â”‚      [background] read source files
 aideator-api â”‚      [background] read source files 1.69MB [done: 105ms]
     frontend â”‚    â–² Next.js 15.2.4
     frontend â”‚    - Local:        http://localhost:3000
     frontend â”‚    - Network:      http://192.168.1.204:3000
     frontend â”‚    - Environments: .env.local
     frontend â”‚ 
     frontend â”‚  âœ“ Starting...
 aideator-api â”‚      [api  9/15] COPY --from=python-builder /usr/local/lib/node_modules /usr/local/lib/node_modules [cached]
 aideator-api â”‚      [api  2/15] RUN apk --no-cache --update upgrade && apk --no-cache add     python-3.12     py3.12-pip     bash     git     ca-certificates     openssl [cached]
 aideator-api â”‚      [api  5/15] RUN chown nonroot:nonroot /app [cached]
 aideator-api â”‚      [api  6/15] COPY --from=python-builder /opt/venv /opt/venv [cached]
 aideator-api â”‚      [api 11/15] COPY --chown=nonroot:nonroot app/ ./app/ [cached]
 aideator-api â”‚      [python-builder 3/8] RUN pip install -Iv "uv==0.7.10" [cached]
 aideator-api â”‚      [python-builder 6/8] RUN pip install --no-cache-dir -r requirements.txt [cached]
 aideator-api â”‚      [api  3/15] RUN adduser -D -u 1000 nonroot || true [cached]
 aideator-api â”‚      [python-builder 2/8] RUN apk --no-cache --update upgrade && apk --no-cache add     python-3.12     py3.12-pip     python-3.12-dev     build-base     git     curl     nodejs     npm     ca-certificates     openssl     bash [cached]
 aideator-api â”‚      [kubectl-builder 2/2] RUN apk add --no-cache curl &&     curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl" &&     chmod +x kubectl [cached]
 aideator-api â”‚      [python-builder 7/8] RUN touch /tmp/myfile [cached]
 aideator-api â”‚      [api 10/15] COPY --from=python-builder /usr/local/bin/claude /usr/local/bin/claude [cached]
 aideator-api â”‚      [api 15/15] COPY --chown=nonroot:nonroot scripts/ ./scripts/ [cached]
 aideator-api â”‚      [python-builder 4/8] RUN python3.12 -m venv /opt/venv [cached]
 aideator-api â”‚      [python-builder 5/8] COPY requirements.txt pyproject.toml ./ [cached]
 aideator-api â”‚      [api  7/15] RUN /opt/venv/bin/pip install -Iv "uv==0.7.10" [cached]
 aideator-api â”‚      [api  8/15] COPY --from=kubectl-builder /kubectl /usr/local/bin/kubectl [cached]
 aideator-api â”‚      [api  4/15] WORKDIR /app [cached]
 aideator-api â”‚      [api 14/15] COPY --chown=nonroot:nonroot alembic.ini ./ [cached]
 aideator-api â”‚      [api 13/15] COPY --chown=nonroot:nonroot alembic/ ./alembic/ [cached]
 aideator-api â”‚      [api 12/15] COPY --chown=nonroot:nonroot k8s/ ./k8s/ [cached]
 aideator-api â”‚      [python-builder 8/8] RUN npm install -g @anthropic-ai/claude-code [cached]
 aideator-api â”‚      exporting to image
 aideator-api â”‚      exporting to image [done: 25ms]
 aideator-api â”‚ 
 aideator-api â”‚ STEP 2/3 â€” Pushing localhost:5001/aideator-api:tilt-1b22594c9a11fd29
 aideator-api â”‚      Pushing with Docker client
 aideator-api â”‚      Authenticating to image repo: localhost:5001
 aideator-api â”‚      Sending image data
     frontend â”‚  âœ“ Ready in 1617ms
 aideator-api â”‚      b9ce4ae8ea8b: Pushing [===========>                                       ]     512B/2.198kB
 aideator-api â”‚      7543ff3b0bf1: Pushing [>                                                  ]  7.168kB/687.9kB
 aideator-api â”‚      9a74ea201ebf: Pushing [==>                                                ]     512B/10.5kB
 aideator-api â”‚      7db3e0cbb3bd: Pushing [>                                                  ]  12.82kB/786.1kB
 aideator-api â”‚      bfee62b91f01: Pushing [>                                                  ]   2.56kB/171.9kB
 aideator-api â”‚      b9ce4ae8ea8b: Pushed 
 aideator-api â”‚      9a74ea201ebf: Pushed 
 aideator-api â”‚      bfee62b91f01: Pushed 
 aideator-api â”‚      7543ff3b0bf1: Pushed 
 aideator-api â”‚      7db3e0cbb3bd: Pushed 
 aideator-api â”‚      83a1337c8329: Pushing [>                                                  ]  100.4kB/7.699MB
 aideator-api â”‚      8f8a78a81a27: Pushing [>                                                  ]    532kB/185.8MB
 aideator-api â”‚      db54a643f733: Pushing [>                                                  ]  526.8kB/55.14MB
 aideator-api â”‚      e2ca1554844e: Pushing [>                                                  ]  526.3kB/60.13MB
 aideator-api â”‚      503a0fcd3828: Pushing [>                                                  ]  553.5kB/775.8MB
 aideator-api â”‚      83a1337c8329: Pushed 
 aideator-api â”‚      7d6fedd4bea7: Pushing  2.048kB
 aideator-api â”‚      7d6fedd4bea7: Pushed 
 aideator-api â”‚      db54a643f733: Pushed 
aideator-datâ€¦ â”‚ [event: pod aideator/aideator-database-6cb4855dbb-tzc9w] Successfully pulled image "postgres:15-alpine" in 6.956743712s
 aideator-api â”‚      e2ca1554844e: Pushed 
 aideator-api â”‚      deb05587af80: Pushing  1.536kB
 aideator-api â”‚      5b2e954239d1: Pushing  1.536kB
 aideator-api â”‚      3656509b535d: Pushing [>                                                  ]  527.3kB/108.4MB
 aideator-api â”‚      deb05587af80: Pushed 
aideator-datâ€¦ â”‚      â”Š Scheduled       - <1s
aideator-datâ€¦ â”‚      â”Š Initialized     - <1s
aideator-datâ€¦ â”‚      â”Š Ready           - 9s
aideator-datâ€¦ â”‚ The files belonging to this database system will be owned by user "postgres".
aideator-datâ€¦ â”‚ This user must also own the server process.
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚ The database cluster will be initialized with locale "en_US.utf8".
aideator-datâ€¦ â”‚ The default database encoding has accordingly been set to "UTF8".
aideator-datâ€¦ â”‚ The default text search configuration will be set to "english".
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚ Data page checksums are disabled.
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚ fixing permissions on existing directory /var/lib/postgresql/data ... ok
aideator-datâ€¦ â”‚ creating subdirectories ... ok
aideator-datâ€¦ â”‚ selecting dynamic shared memory implementation ... posix
aideator-datâ€¦ â”‚ selecting default max_connections ... 100
aideator-datâ€¦ â”‚ selecting default shared_buffers ... 128MB
aideator-datâ€¦ â”‚ selecting default time zone ... UTC
aideator-datâ€¦ â”‚ creating configuration files ... ok
aideator-datâ€¦ â”‚ running bootstrap script ... ok
aideator-datâ€¦ â”‚ sh: locale: not found
aideator-datâ€¦ â”‚ 2025-07-16 05:31:50.617 UTC [36] WARNING:  no usable system locales were found
aideator-datâ€¦ â”‚ performing post-bootstrap initialization ... ok
 aideator-api â”‚      5b2e954239d1: Pushed 
 aideator-api â”‚      59ba392a57d6: Pushing [=>                                                 ]     512B/22.26kB
 aideator-api â”‚      be0fc0c14ee3: Pushing [===>                                               ]     512B/6.489kB
aideator-datâ€¦ â”‚ syncing data to disk ... ok
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚ Success. You can now start the database server using:
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚     pg_ctl -D /var/lib/postgresql/data -l logfile start
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚ initdb: warning: enabling "trust" authentication for local connections
aideator-datâ€¦ â”‚ initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
aideator-datâ€¦ â”‚ waiting for server to start....2025-07-16 05:31:52.285 UTC [42] LOG:  starting PostgreSQL 15.13 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.286 UTC [42] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.290 UTC [45] LOG:  database system was shut down at 2025-07-16 05:31:50 UTC
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.293 UTC [42] LOG:  database system is ready to accept connections
aideator-datâ€¦ â”‚  done
aideator-datâ€¦ â”‚ server started
aideator-datâ€¦ â”‚ CREATE DATABASE
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚ /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚ waiting for server to shut down....2025-07-16 05:31:52.407 UTC [42] LOG:  received fast shutdown request
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.409 UTC [42] LOG:  aborting any active transactions
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.410 UTC [42] LOG:  background worker "logical replication launcher" (PID 48) exited with exit code 1
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.412 UTC [43] LOG:  shutting down
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.412 UTC [43] LOG:  checkpoint starting: shutdown immediate
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.768 UTC [43] LOG:  checkpoint complete: wrote 921 buffers (5.6%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.007 s, sync=0.342 s, total=0.357 s; sync files=301, longest=0.007 s, average=0.002 s; distance=4238 kB, estimate=4238 kB
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.771 UTC [42] LOG:  database system is shut down
 aideator-api â”‚      8f8a78a81a27: Pushing [===========================================>       ]  163.4MB/185.8MB
 aideator-api â”‚      59ba392a57d6: Pushed 
aideator-datâ€¦ â”‚  done
aideator-datâ€¦ â”‚ server stopped
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚ PostgreSQL init process complete; ready for start up.
aideator-datâ€¦ â”‚ 
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.824 UTC [1] LOG:  starting PostgreSQL 15.13 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.824 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.824 UTC [1] LOG:  listening on IPv6 address "::", port 5432
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.828 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.831 UTC [58] LOG:  database system was shut down at 2025-07-16 05:31:52 UTC
aideator-datâ€¦ â”‚ 2025-07-16 05:31:52.834 UTC [1] LOG:  database system is ready to accept connections
 aideator-api â”‚      503a0fcd3828: Pushing [=========>                                         ]    150MB/775.8MB
 aideator-api â”‚      be0fc0c14ee3: Pushed 
 aideator-api â”‚      97be68c9e218: Pushing [=>                                                 ]     512B/21.23kB
 aideator-api â”‚      940df04d4534: Pushing [>                                                  ]  1.536kB/146kB
 aideator-api â”‚      8f8a78a81a27: Pushed 
 aideator-api â”‚      97be68c9e218: Pushed 
 aideator-api â”‚      22b582556e37: Pushing [>                                                  ]  2.048kB/156.7kB
 aideator-api â”‚      940df04d4534: Pushed 
 aideator-api â”‚      a40253974f67: Pushing [>                                                  ]   2.56kB/214.3kB
 aideator-api â”‚      ef015ba8346c: Pushing [>                                                  ]   2.56kB/224.8kB
 aideator-api â”‚      3656509b535d: Pushed 
 aideator-api â”‚      22b582556e37: Pushed 
 aideator-api â”‚      a40253974f67: Pushed 
 aideator-api â”‚      3fd511372fee: Pushing [===>                                               ]   34.3kB/457.4kB
 aideator-api â”‚      a513f911fbb2: Pushing [>                                                  ]   7.68kB/729.7kB
 aideator-api â”‚      ef015ba8346c: Pushed 
 aideator-api â”‚      f02a77568fae: Pushing [>                                                  ]  76.29kB/5.97MB
 aideator-api â”‚      1eccc9297dd7: Pushing [>                                                  ]   76.8kB/6.333MB
 aideator-api â”‚      3fd511372fee: Pushed 
 aideator-api â”‚      a513f911fbb2: Pushed 
 aideator-api â”‚      f02a77568fae: Pushed 
 aideator-api â”‚      1eccc9297dd7: Pushed 
 aideator-api â”‚      503a0fcd3828: Pushing [===================================>               ]    548MB/775.8MB
 aideator-api â”‚      503a0fcd3828: Pushed 
 aideator-api â”‚ 
 aideator-api â”‚ STEP 3/3 â€” Deploying
 aideator-api â”‚      Applying YAML to cluster
 aideator-api â”‚      Objects applied to cluster:
 aideator-api â”‚        â†’ aideator-api:service
 aideator-api â”‚        â†’ aideator-api:deployment
 aideator-api â”‚ 
 aideator-api â”‚      Step 1 - 1.45s (Building Dockerfile: [aideator-api])
 aideator-api â”‚      Step 2 - 29.65s (Pushing localhost:5001/aideator-api:tilt-1b22594c9a11fd29)
 aideator-api â”‚      Step 3 - 0.03s (Deploying)
 aideator-api â”‚      DONE IN: 31.13s 
 aideator-api â”‚ 
database-migâ€¦ â”‚ 
database-migâ€¦ â”‚ Initial Build
database-migâ€¦ â”‚ Running cmd: DATABASE_URL="postgresql+asyncpg://aideator:aideator123@localhost:5432/aideator" uv run alembic upgrade head
 aideator-api â”‚ 
 aideator-api â”‚ Tracking new pod rollout (aideator-api-554bdd4c54-47c22):
 aideator-api â”‚      â”Š Scheduled       - (â€¦) Pending
 aideator-api â”‚      â”Š Initialized     - (â€¦) Pending
 aideator-api â”‚      â”Š Ready           - (â€¦) Pending
 aideator-api â”‚ [event: pod aideator/aideator-api-554bdd4c54-47c22] Pulling image "k3d-registry.localhost:5000/aideator-api:tilt-1b22594c9a11fd29"
database-migâ€¦ â”‚ INFO  [alembic.runtime.migration] Context impl PostgresqlImpl.
database-migâ€¦ â”‚ INFO  [alembic.runtime.migration] Will assume transactional DDL.
database-migâ€¦ â”‚ INFO  [alembic.runtime.migration] Running upgrade  -> 001, Current schema from SQLModel definitions
add-test-data â”‚ 
add-test-data â”‚ Initial Build
add-test-data â”‚ Running cmd: DATABASE_URL="postgresql+asyncpg://aideator:aideator123@localhost:5432/aideator" uv run python scripts/add_mock_task_data.py
add-test-data â”‚ ğŸ—„ï¸ Creating mock task data in database...
add-test-data â”‚ WARNING: Development user not found, creating one...
add-test-data â”‚ (trapped) error reading bcrypt version
add-test-data â”‚ Traceback (most recent call last):
add-test-data â”‚   File "/Users/alchang/dev/aideator/.venv/lib/python3.11/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
add-test-data â”‚     version = _bcrypt.__about__.__version__
add-test-data â”‚               ^^^^^^^^^^^^^^^^^
add-test-data â”‚ AttributeError: module 'bcrypt' has no attribute '__about__'
add-test-data â”‚ Created test user: test@aideator.local (ID: user_test_mVxl8kqzVGLLmy1O)
add-test-data â”‚ Created run: 1 with task_id: 1
add-test-data â”‚ Created outputs for task 1 with 3 variations
add-test-data â”‚ Using existing dev user: test@aideator.local (ID: user_test_mVxl8kqzVGLLmy1O)
add-test-data â”‚ Created run: 2 with task_id: 2
add-test-data â”‚ Created outputs for task 2 with 3 variations
add-test-data â”‚ Using existing dev user: test@aideator.local (ID: user_test_mVxl8kqzVGLLmy1O)
add-test-data â”‚ Created run: 3
add-test-data â”‚ Created run: 4
add-test-data â”‚ Created run: 5
add-test-data â”‚ âœ… Successfully created all mock task data!
add-test-data â”‚ 
add-test-data â”‚ ğŸ“‹ Created tasks:
add-test-data â”‚   - task-1: Make hello world label ominous (3 variations)
add-test-data â”‚   - task-2: Make hello world message cheerier (3 variations)
add-test-data â”‚   - task-3: Update hello world message (open)
add-test-data â”‚   - task-4: Update hello world message (failed)
add-test-data â”‚   - task-5: Complete v2 UI functionality (completed)
 aideator-api â”‚ [event: pod aideator/aideator-api-554bdd4c54-47c22] Successfully pulled image "k3d-registry.localhost:5000/aideator-api:tilt-1b22594c9a11fd29" in 7.278998961s
 aideator-api â”‚      â”Š Scheduled       - <1s
 aideator-api â”‚      â”Š Initialized     - <1s
 aideator-api â”‚      â”Š Ready           - 9s
 aideator-api â”‚ INFO:     Started server process [1]
 aideator-api â”‚ INFO:     Waiting for application startup.
 aideator-api â”‚ [2m2025-07-16T05:32:22.483342Z[0m [[32m[1minfo     [0m] [1mStarting AIdeator v1.0.0      [0m [[0m[1m[34mapp.main[0m][0m [36mfilename[0m=[35mmain.py[0m [36mfunc_name[0m=[35mlifespan[0m [36mlineno[0m=[35m29[0m
 aideator-api â”‚ [2m2025-07-16T05:32:22.518166Z[0m [[32m[1minfo     [0m] [1mDatabase tables created successfully[0m [[0m[1m[34mapp.core.database[0m][0m [36mfilename[0m=[35mdatabase.py[0m [36mfunc_name[0m=[35mcreate_db_and_tables[0m [36mlineno[0m=[35m81[0m
 aideator-api â”‚ [2m2025-07-16T05:32:22.519130Z[0m [[32m[1minfo     [0m] [1mDatabase initialized          [0m [[0m[1m[34mapp.main[0m][0m [36mfilename[0m=[35mmain.py[0m [36mfunc_name[0m=[35mlifespan[0m [36mlineno[0m=[35m33[0m
 aideator-api â”‚ INFO:     Application startup complete.
 aideator-api â”‚ INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
